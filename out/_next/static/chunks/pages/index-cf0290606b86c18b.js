(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{432:function(t,e,i){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return i(7144)}])},7144:function(t,e,i){"use strict";i.r(e),i.d(e,{default:function(){return m}});var s=i(1527),n=i(959),o=i(784),a=i.n(o),r=i(6171);class h extends r.aNw{constructor(t){super(t)}load(t,e,i,s){let n=this,o=new r.hH6(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(t,function(t){let i=n.parse(JSON.parse(t));e&&e(i)},i,s)}parse(t){return new l(t)}}class l{constructor(t){this.isFont=!0,this.type="Font",this.data=t}generateShapes(t,e=100){let i=[],s=function(t,e,i){let s=Array.from(t),n=e/i.resolution,o=(i.boundingBox.yMax-i.boundingBox.yMin+i.underlineThickness)*n,a=[],h=0,l=0;for(let c=0;c<s.length;c++){let d=s[c];if("\n"===d)h=0,l-=o;else{let u=function(t,e,i,s,n){let o,a,h,l,c,d,u,p;let m=n.glyphs[t]||n.glyphs["?"];if(!m){console.error('THREE.Font: character "'+t+'" does not exists in font family '+n.familyName+".");return}let g=new r.T_1;if(m.o){let w=m._cachedOutline||(m._cachedOutline=m.o.split(" "));for(let b=0,f=w.length;b<f;){let v=w[b++];switch(v){case"m":o=w[b++]*e+i,a=w[b++]*e+s,g.moveTo(o,a);break;case"l":o=w[b++]*e+i,a=w[b++]*e+s,g.lineTo(o,a);break;case"q":h=w[b++]*e+i,l=w[b++]*e+s,c=w[b++]*e+i,d=w[b++]*e+s,g.quadraticCurveTo(c,d,h,l);break;case"b":h=w[b++]*e+i,l=w[b++]*e+s,c=w[b++]*e+i,d=w[b++]*e+s,u=w[b++]*e+i,p=w[b++]*e+s,g.bezierCurveTo(c,d,u,p,h,l)}}}return{offsetX:m.ha*e,path:g}}(d,n,h,l,i);h+=u.offsetX,a.push(u.path)}}return a}(t,e,this.data);for(let n=0,o=s.length;n<o;n++)i.push(...s[n].toShapes());return i}}class c{bindEvents(){window.addEventListener("resize",this.onWindowResize.bind(this))}setup(){this.createParticles=new d(this.scene,this.font,this.particle,this.camera,this.renderer,this.text)}render(){this.createParticles.render(),this.renderer.setClearColor(0,.2),this.renderer.render(this.scene,this.camera)}createCamera(){this.camera=new r.cPb(65,this.container.clientWidth/this.container.clientHeight,1,1e4),this.camera.position.set(0,0,100)}createRenderer(){this.renderer=new r.CP7,this.renderer.setSize(this.container.clientWidth,this.container.clientHeight),this.renderer.setPixelRatio(Math.min(window.devicePixelRatio,2)),this.renderer.outputEncoding=r.knz,this.container.appendChild(this.renderer.domElement),this.renderer.setAnimationLoop(()=>{this.render()})}onWindowResize(){this.camera.aspect=this.container.clientWidth/this.container.clientHeight,this.camera.updateProjectionMatrix(),this.renderer.setSize(this.container.clientWidth,this.container.clientHeight)}constructor(t,e,i){this.font=t,this.text=i,this.particle=e,this.container=document.querySelector("#magic"),this.scene=new r.xsS,this.createCamera(),this.setup(),this.createRenderer(),this.bindEvents()}}class d{setup(){let t=new r._12(this.visibleWidthAtZDepth(100,this.camera),this.visibleHeightAtZDepth(100,this.camera)),e=new r.vBJ({color:65280,transparent:!0});this.planeArea=new r.Kj0(t,e),this.planeArea.visible=!1,this.createText()}bindEvents(){document.addEventListener("mousedown",this.onMouseDown.bind(this)),document.addEventListener("mousemove",this.onMouseMove.bind(this)),document.addEventListener("mouseup",this.onMouseUp.bind(this)),document.addEventListener("touchstart",this.onTouchStart.bind(this)),document.addEventListener("touchmove",this.onTouchMove.bind(this)),document.addEventListener("touchend",this.onTouchEnd.bind(this))}onMouseDown(t){this.mouse.x=t.clientX/window.innerWidth*2-1,this.mouse.y=-(2*(t.clientY/window.innerHeight))+1;let e=new r.Pa4(this.mouse.x,this.mouse.y,.5);e.unproject(this.camera);let i=e.sub(this.camera.position).normalize(),s=-this.camera.position.z/i.z;this.currentPosition=this.camera.position.clone().add(i.multiplyScalar(s)),this.particles.geometry.attributes.position,this.buttom=!0,this.data.ease=.01}onMouseUp(){this.buttom=!1,this.data.ease=.05}onMouseMove(t){this.mouse.x=t.clientX/window.innerWidth*2-1,this.mouse.y=-(2*(t.clientY/window.innerHeight))+1}onTouchStart(t){this.mouse.x=t.touches[0].clientX/window.innerWidth*2-1,this.mouse.y=-(2*(t.touches[0].clientY/window.innerHeight))+1;let e=new r.Pa4(this.mouse.x,this.mouse.y,.5);e.unproject(this.camera);let i=e.sub(this.camera.position).normalize(),s=-this.camera.position.z/i.z;this.currentPosition=this.camera.position.clone().add(i.multiplyScalar(s)),this.particles.geometry.attributes.position,this.buttom=!0,this.data.ease=.01}onTouchEnd(){console.log("touch end"),this.buttom=!1,this.data.ease=.05}onTouchMove(t){console.log("touch move"),this.mouse.x=t.touches[0].clientX/window.innerWidth*2-1,this.mouse.y=-(2*(t.touches[0].clientY/window.innerHeight))+1}render(){let t=.001*performance.now()%12/12,e=(1+Math.sin(2*t*Math.PI))/6;this.raycaster.setFromCamera(this.mouse,this.camera);let i=this.raycaster.intersectObject(this.planeArea);if(i.length>0){let s=this.particles.geometry.attributes.position,n=this.geometryCopy.attributes.position,o=this.particles.geometry.attributes.customColor,a=this.particles.geometry.attributes.size,r=i[0].point.x,h=i[0].point.y;i[0].point.z;for(var l=0,c=s.count;l<c;l++){let d=n.getX(l),u=n.getY(l),p=n.getZ(l),m=s.getX(l),g=s.getY(l),w=s.getZ(l);this.colorChange.setHSL(.5,1,1),o.setXYZ(l,this.colorChange.r,this.colorChange.g,this.colorChange.b),o.needsUpdate=!0,a.array[l]=this.data.particleSize,a.needsUpdate=!0;let b=r-m,f=h-g,v=this.distance(r,h,m,g),x=(b=r-m)*b+(f=h-g)*f,C=-this.data.area/x;if(this.buttom){let y=Math.atan2(f,b);m-=C*Math.cos(y),g-=C*Math.sin(y),this.colorChange.setHSL(.5+e,1,.5),o.setXYZ(l,this.colorChange.r,this.colorChange.g,this.colorChange.b),o.needsUpdate=!0,(m>d+70||m<d-70||g>u+70||g<u-70)&&(this.colorChange.setHSL(.15,1,.5),o.setXYZ(l,this.colorChange.r,this.colorChange.g,this.colorChange.b),o.needsUpdate=!0)}else if(v<this.data.area){if(l%5==0){let M=Math.atan2(f,b);m-=.03*Math.cos(M),g-=.03*Math.sin(M),this.colorChange.setHSL(.15,1,.5),o.setXYZ(l,this.colorChange.r,this.colorChange.g,this.colorChange.b),o.needsUpdate=!0,a.array[l]=this.data.particleSize/1.2,a.needsUpdate=!0}else{let z=Math.atan2(f,b);m+=C*Math.cos(z),g+=C*Math.sin(z),s.setXYZ(l,m,g,w),s.needsUpdate=!0,a.array[l]=1.3*this.data.particleSize,a.needsUpdate=!0}(m>d+10||m<d-10||g>u+10||g<u-10)&&(this.colorChange.setHSL(.15,1,.5),o.setXYZ(l,this.colorChange.r,this.colorChange.g,this.colorChange.b),o.needsUpdate=!0,a.array[l]=this.data.particleSize/1.8,a.needsUpdate=!0)}m+=(d-m)*this.data.ease,g+=(u-g)*this.data.ease,w+=(p-w)*this.data.ease,s.setXYZ(l,m,g,w),s.needsUpdate=!0}}}createText(){let t=[],e=this.font.generateShapes(this.data.text,this.data.textSize),i=new r.oa8(e);i.computeBoundingBox();let s=-.5*(i.boundingBox.max.x-i.boundingBox.min.x),n=(i.boundingBox.max.y-i.boundingBox.min.y)/2.85;i.center();let o=[],a=[];for(let h=0;h<e.length;h++){let l=e[h];if(l.holes&&l.holes.length>0)for(let c=0;c<l.holes.length;c++){let d=l.holes[c];o.push(d)}}a.push.apply(e,o);let u=[],p=[];for(let m=0;m<e.length;m++){let g=e[m],w="Path"===g.type?this.data.amount/2:this.data.amount;g.getSpacedPoints(w).forEach((e,i)=>{let s=new r.Pa4(e.x,e.y,0);t.push(s),u.push(this.colorChange.r,this.colorChange.g,this.colorChange.b),p.push(1)})}for(let b=0;b<a.length;b++){let f=a[b],v="Path"===f.type?this.data.amount/2:this.data.amount;f.getSpacedPoints(v).forEach((e,i)=>{let s=new r.Pa4(e.x,e.y,0);t.push(s),u.push(this.colorChange.r,this.colorChange.g,this.colorChange.b),p.push(1)})}let x=new r.u9r().setFromPoints(t);x.translate(s,n,0),x.setAttribute("customColor",new r.a$l(u,3)),x.setAttribute("size",new r.a$l(p,1));let C=new r.jyz({uniforms:{color:{value:new r.Ilk(16777215)},pointTexture:{value:this.particleImg}},vertexShader:"attribute float size;\n            attribute vec3 customColor;\n            varying vec3 vColor;\n            void main() {\n              vColor = customColor;\n              vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );\n              gl_PointSize = size * ( 300.0 / -mvPosition.z );\n              gl_Position = projectionMatrix * mvPosition;\n            }",fragmentShader:"uniform vec3 color;\n            uniform sampler2D pointTexture;\n            varying vec3 vColor;\n            void main() {\n              gl_FragColor = vec4( color * vColor, 1.0 );\n              gl_FragColor = gl_FragColor * texture2D( pointTexture, gl_PointCoord );\n            }",blending:r.WMw,depthTest:!1,transparent:!0});this.particles=new r.woe(x,C),this.scene.add(this.particles),this.geometryCopy=new r.u9r,this.geometryCopy.copy(this.particles.geometry)}visibleHeightAtZDepth(t,e){let i=e.position.z;t<i?t-=i:t+=i;let s=e.fov*Math.PI/180;return 2*Math.tan(s/2)*Math.abs(t)}visibleWidthAtZDepth(t,e){let i=this.visibleHeightAtZDepth(t,e);return i*e.aspect}distance(t,e,i,s){return Math.sqrt(Math.pow(t-i,2)+Math.pow(e-s,2))}constructor(t,e,i,s,n,o){this.scene=t,this.font=e,this.text=o,this.colorChange=new r.Ilk,this.data={text:this.text,amount:1500,particleSize:1,particleColor:16777215,textSize:Math.min(20,window.screen.width/15/8),area:250,ease:.05},this.particleImg=i,this.camera=s,this.setup(),this.renderer=n,this.raycaster=new r.iMs,this.mouse=new r.FM8(-200,200),this.buttom=!1,this.bindEvents()}}let u={position:"fixed",width:"100vw",height:"100vh",display:"block",top:0,left:0,zIndex:"-9999"};function p(t){let{text:e}=t,i=()=>{var t;let i=new r.lLk;i.onLoad=function(){void 0!==t&&void 0!==n&&new c(t,n,e)};let s=new h(i);s.load("./static/Black Jack_Regular.json",function(e){t=e});let n=new r.dpR(i).load("./static/particle.png")};return(0,n.useEffect)(()=>i()),(0,s.jsx)("div",{id:"magic",style:u})}var m=function(){return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(p,{text:"Chun-Mao Lai\n      Mecoli"}),(0,s.jsx)("div",{className:"text-center p-30",children:(0,s.jsx)("div",{className:"absolute py-0 w-full bottom-0 left-0 flex flex-nowrap flex-col justify-end items-center",children:(0,s.jsx)(a(),{id:"enter",className:"text-gray-700 dark:text-white text-center text-4xl mb-70p hover:scale-125 hover:cursor-pointer duration-500",href:"/about",children:"Enter"})})})]})}}},function(t){t.O(0,[227,774,888,179],function(){return t(t.s=432)}),_N_E=t.O()}]);